<?xml version="1.0" encoding="utf-8" ?>
<!--========================================================================-->
<!-- Copyright (c) 2016-2018 Qualcomm Technologies, Inc.                    -->
<!-- All Rights Reserved.                                                   -->
<!-- Confidential and Proprietary - Qualcomm Technologies, Inc.             -->
<!--========================================================================-->



<Pipeline>
    <PipelineName>ZSLSnapshotJpegGPU</PipelineName>
    <NodesList>
        <Node>
            <NodeName>ChiGPUNode</NodeName>
            <NodeId>255</NodeId>
            <NodeInstance>ChiNodeInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
            <NodeProperty>
                <NodePropertyName>NodePropertyCustomLib</NodePropertyName>
                <NodePropertyId>1</NodePropertyId>
                <NodePropertyDataType>STRING</NodePropertyDataType>
                <NodePropertyValue>com.qti.node.gpu</NodePropertyValue>
            </NodeProperty>
            <NodeProperty>
                <NodePropertyName>Unknown</NodePropertyName>
                <NodePropertyId>12</NodePropertyId>
                <NodePropertyDataType>UINT</NodePropertyDataType>
                <NodePropertyValue>8</NodePropertyValue>
            </NodeProperty>
            <NodeProperty>
                <NodePropertyName>NodePropertyNodeClass</NodePropertyName>
                <NodePropertyId>11</NodePropertyId>
                <NodePropertyDataType>UINT</NodePropertyDataType>
                <NodePropertyValue>1</NodePropertyValue>
            </NodeProperty>
        </Node>
    <Node>
            <NodeName>BPS</NodeName>
            <NodeId>65539</NodeId>
            <NodeInstance>BPSInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
        </Node>
    <Node>
      <NodeName>JPEG</NodeName>
      <NodeId>65537</NodeId>
      <NodeInstance>JPEGInstanceName1</NodeInstance>
      <NodeInstanceId>1</NodeInstanceId>
      <NodeProperty>
        <NodePropertyName>ProfileId</NodePropertyName>
        <NodePropertyId>2</NodePropertyId>
        <NodePropertyDataType>UINT</NodePropertyDataType>
        <NodePropertyValue>1</NodePropertyValue>
      </NodeProperty>
    </Node>
  <Node>
      <NodeName>JPEG</NodeName>
      <NodeId>65537</NodeId>
      <NodeInstance>JPEGInstanceName0</NodeInstance>
      <NodeInstanceId>0</NodeInstanceId>
      <PrunableVariant variantGroup="Snapshot" variantType="JPEG" />
    </Node>
    <Node>
      <NodeName>JPEGAggregator</NodeName>
      <NodeId>6</NodeId>
      <NodeInstance>JPEGAggregatorInstanceName0</NodeInstance>
      <NodeInstanceId>0</NodeInstanceId>
    </Node>
  </NodesList>
    <PortLinkages>
        <TargetName>TARGET_BUFFER_RAW</TargetName>
        <TargetDirection>TargetBidirectional</TargetDirection>
        <Link>
            <SrcPort>
                <PortName>ChiNodeOutputPortFull</PortName>
                <PortId>0</PortId>
                <NodeName>ChiGPUNode</NodeName>
                <NodeId>255</NodeId>
                <BypassPortSrcId>0</BypassPortSrcId>
                <NodeInstance>ChiNodeInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </SrcPort>
            <DstPort>
                <PortName>JPEGInputPort0</PortName>
                <PortId>0</PortId>
                <NodeName>JPEG</NodeName>
                <NodeId>65537</NodeId>
                <NodeInstance>JPEGInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </DstPort>
            <DstPort>
                <PortName>JPEGInputPort0</PortName>
                <PortId>0</PortId>
                <NodeName>JPEG</NodeName>
                <NodeId>65537</NodeId>
                <NodeInstance>JPEGInstanceName1</NodeInstance>
                <NodeInstanceId>1</NodeInstanceId>
            </DstPort>
            <BufferProperties>
                <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
                <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
                <BufferQueueDepth>8</BufferQueueDepth>
                <BufferHeap>Ion</BufferHeap>
                <BufferFlags>BufferMemFlagHw</BufferFlags>
                <BufferFlags>BufferMemFlagLockable</BufferFlags>
            </BufferProperties>
        </Link>
        <Link>
            <SrcPort>
                <PortName>IPEOutputPortDisplay</PortName>
                <PortId>8</PortId>
                <NodeName>IPE</NodeName>
                <NodeId>65538</NodeId>
                <NodeInstance>IPEInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </SrcPort>
            <DstPort>
                <PortName>ChiNodeInputPortFull</PortName>
                <PortId>0</PortId>
                <NodeName>ChiGPUNode</NodeName>
                <NodeId>255</NodeId>
                <NodeInstance>ChiNodeInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </DstPort>
            <BufferProperties>
                <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
                <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
                <BufferQueueDepth>8</BufferQueueDepth>
                <BufferHeap>Ion</BufferHeap>
                <BufferFlags>BufferMemFlagHw</BufferFlags>
                <BufferFlags>BufferMemFlagLockable</BufferFlags>
            </BufferProperties>
        </Link>
    <Link>
            <SrcPort>
                <PortName>BPSOutputPortFull</PortName>
                <PortId>1</PortId>
                <NodeName>BPS</NodeName>
                <NodeId>65539</NodeId>
                <NodeInstance>BPSInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </SrcPort>
            <DstPort>
                <PortName>IPEInputPortFull</PortName>
                <PortId>0</PortId>
                <NodeName>IPE</NodeName>
                <NodeId>65538</NodeId>
                <NodeInstance>IPEInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </DstPort>
            <BufferProperties>
                <BufferFormat>ChiFormatUBWCTP10</BufferFormat>
                <BufferImmediateAllocCount>0</BufferImmediateAllocCount>
                <BufferQueueDepth>8</BufferQueueDepth>
                <BufferHeap>Ion</BufferHeap>
                <BufferFlags>BufferMemFlagHw</BufferFlags>
            </BufferProperties>
        </Link>
        <Link>
            <SrcPort>
                <PortName>BPSOutputPortDS4</PortName>
                <PortId>2</PortId>
                <NodeName>BPS</NodeName>
                <NodeId>65539</NodeId>
                <NodeInstance>BPSInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </SrcPort>
            <DstPort>
                <PortName>IPEInputPortDS4</PortName>
                <PortId>1</PortId>
                <NodeName>IPE</NodeName>
                <NodeId>65538</NodeId>
                <NodeInstance>IPEInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </DstPort>
            <BufferProperties>
                <BufferFormat>ChiFormatPD10</BufferFormat>
                <BufferImmediateAllocCount>0</BufferImmediateAllocCount>
                <BufferQueueDepth>8</BufferQueueDepth>
                <BufferHeap>Ion</BufferHeap>
                <BufferFlags>BufferMemFlagHw</BufferFlags>
            </BufferProperties>
        </Link>
        <Link>
            <SrcPort>
                <PortName>BPSOutputPortDS16</PortName>
                <PortId>3</PortId>
                <NodeName>BPS</NodeName>
                <NodeId>65539</NodeId>
                <NodeInstance>BPSInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </SrcPort>
            <DstPort>
                <PortName>IPEInputPortDS16</PortName>
                <PortId>2</PortId>
                <NodeName>IPE</NodeName>
                <NodeId>65538</NodeId>
                <NodeInstance>IPEInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </DstPort>
            <BufferProperties>
                <BufferFormat>ChiFormatPD10</BufferFormat>
                <BufferImmediateAllocCount>0</BufferImmediateAllocCount>
                <BufferQueueDepth>8</BufferQueueDepth>
                <BufferHeap>Ion</BufferHeap>
                <BufferFlags>BufferMemFlagHw</BufferFlags>
            </BufferProperties>
        </Link>
        <Link>
            <SrcPort>
                <PortName>BPSOutputPortDS64</PortName>
                <PortId>4</PortId>
                <NodeName>BPS</NodeName>
                <NodeId>65539</NodeId>
                <NodeInstance>BPSInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </SrcPort>
            <DstPort>
                <PortName>IPEInputPortDS64</PortName>
                <PortId>3</PortId>
                <NodeName>IPE</NodeName>
                <NodeId>65538</NodeId>
                <NodeInstance>IPEInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </DstPort>
            <BufferProperties>
                <BufferFormat>ChiFormatPD10</BufferFormat>
                <BufferImmediateAllocCount>0</BufferImmediateAllocCount>
                <BufferQueueDepth>8</BufferQueueDepth>
                <BufferHeap>Ion</BufferHeap>
                <BufferFlags>BufferMemFlagHw</BufferFlags>
            </BufferProperties>
        </Link>
    <Link>
            <SrcPort>
                <PortName>JPEGAggregatorOutputPort0</PortName>
                <PortId>1</PortId>
                <NodeName>JPEGAggregator</NodeName>
                <NodeId>6</NodeId>
                <NodeInstance>JPEGAggregatorInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </SrcPort>
            <DstPort>
                <PortName>TARGET_BUFFER_HEIC_BLOB</PortName>
                <PortId>0</PortId>
                <NodeName>SinkBuffer</NodeName>
                <NodeId>2</NodeId>
                <NodeInstance>SinkInstanceName2</NodeInstance>
                <NodeInstanceId>2</NodeInstanceId>
                <PrunableVariant variantGroup="Snapshot" variantType="HEIC" />
            </DstPort>
        <DstPort>
        <PortName>TARGET_BUFFER_SNAPSHOT</PortName>
        <PortId>0</PortId>
        <NodeName>SinkBuffer</NodeName>
        <NodeId>2</NodeId>
        <NodeInstance>SinkInstanceName0</NodeInstance>
        <NodeInstanceId>0</NodeInstanceId>
        <PrunableVariant variantGroup="Snapshot" variantType="JPEG" />
      </DstPort>
    </Link>
    <Link>
      <SrcPort>
        <PortName>JPEGOutputPort0</PortName>
        <PortId>1</PortId>
        <NodeName>JPEG</NodeName>
        <NodeId>65537</NodeId>
        <NodeInstance>JPEGInstanceName1</NodeInstance>
        <NodeInstanceId>1</NodeInstanceId>
      </SrcPort>
      <DstPort>
        <PortName>JPEGAggregatorInputPort1</PortName>
        <PortId>1</PortId>
        <NodeName>JPEGAggregator</NodeName>
        <NodeId>6</NodeId>
        <NodeInstance>JPEGAggregatorInstanceName0</NodeInstance>
        <NodeInstanceId>0</NodeInstanceId>
      </DstPort>
      <BufferProperties>
        <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
        <BufferImmediateAllocCount>0</BufferImmediateAllocCount>
        <BufferQueueDepth>8</BufferQueueDepth>
        <BufferHeap>Ion</BufferHeap>
        <BufferFlags>BufferMemFlagHw</BufferFlags>
        <BufferFlags>BufferMemFlagLockable</BufferFlags>
        <BufferFlags>BufferMemFlagCache</BufferFlags>
      </BufferProperties>
    </Link>
  <Link>
      <SrcPort>
        <PortName>JPEGOutputPort0</PortName>
        <PortId>1</PortId>
        <NodeName>JPEG</NodeName>
        <NodeId>65537</NodeId>
        <NodeInstance>JPEGInstanceName0</NodeInstance>
        <NodeInstanceId>0</NodeInstanceId>
      </SrcPort>
      <DstPort>
        <PortName>JPEGAggregatorInputPort0</PortName>
        <PortId>0</PortId>
        <NodeName>JPEGAggregator</NodeName>
        <NodeId>6</NodeId>
        <NodeInstance>JPEGAggregatorInstanceName0</NodeInstance>
        <NodeInstanceId>0</NodeInstanceId>
      </DstPort>
      <BufferProperties>
        <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
        <BufferImmediateAllocCount>0</BufferImmediateAllocCount>
        <BufferQueueDepth>8</BufferQueueDepth>
        <BufferHeap>Ion</BufferHeap>
        <BufferFlags>BufferMemFlagHw</BufferFlags>
        <BufferFlags>BufferMemFlagLockable</BufferFlags>
        <BufferFlags>BufferMemFlagCache</BufferFlags>
      </BufferProperties>
    </Link>
    <Link>
            <SrcPort>
                <PortName>TARGET_BUFFER_RAW</PortName>
                <PortId>0</PortId>
                <NodeName>SourceBuffer</NodeName>
                <NodeId>4</NodeId>
                <NodeInstance>SourceInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </SrcPort>
            <DstPort>
                <PortName>BPSInputPort</PortName>
                <PortId>0</PortId>
                <NodeName>BPS</NodeName>
                <NodeId>65539</NodeId>
                <NodeInstance>BPSInstanceName0</NodeInstance>
                <NodeInstanceId>0</NodeInstanceId>
            </DstPort>
        </Link>
    </PortLinkages>
</Pipeline>